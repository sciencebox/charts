apiVersion: v1
kind: ConfigMap
metadata:
  name: web-config
data:
  config.json: |-
    {
      "server": {{ quote .Values.sciencebox.config.server }},
      "version": "0.1.0",
      "theme": "{{ .Values.sciencebox.config.server }}/theme.json",
      "openIdConnect": {
        "metadata_url": "{{ .Values.sciencebox.config.server }}/.well-known/openid-configuration",
        "authority": {{ quote .Values.sciencebox.config.server }},
        "client_id": "web",
        "response_type": "code",
        "scope": "openid profile email"
      },
      "apps": ["files"],
      "external_apps": [
      ],
      "options": {
        "hideSearchBar": true,
        "homeFolder": "{{ printf "/eos/user/{{substr 0 1 .Id}}/{{.Id}}" }}"
      }
    }